事务概念
    1.什么是事务
        (1)事务是数据库操作最基本单元，逻辑上的一组操作，要么都成功，如果有一步失败，所有操作都失败
        (2)场景：银行转账

事务四大特性（acid）
    (1)原子性：过程不可分割
    (2)一致性：操作之前和之后，总量不变
    (3)隔离性：多事务操作时，之间不会产生影响
    (4)持久性：事务提交后，表中数据发生永久变化

事务操作（搭建事务操作环境）
    1.例子：转账环境
        (1)web层：视图展示
        (2)service层：业务操作
            创建转账的方法
            [1]调用dao两个的方法
        (3)dao层：数据库操作，不写业务
            创建两个方法
            [1]少钱的方法
            [2]多钱的方法
    2.创建数据库表，添加记录
    3.创建service，搭建dao，完成对象创建和注入关系
        (1)service注入dao，在dao注入JdbcTemplate，在JdbcTemplate注入DataSource
    4.在dao创建两个方法：多钱和少钱，在service创建方法（转账的方法）
    5.上面代码，如果正常执行没有问题，但如果代码出现异常，就会有问题了，这时候需要使用事务解决这一问题
        事务操作的过程：(1)开启事务
                       (2)进行业务操作
                       (3)未发生异常，提交事务。若出现异常，事务回滚

事务操作（spring事务管理介绍）
    1.事务添加到JavaEE三层结构里面Service层（业务逻辑层）
    2.在spring进行事务管理操作
        (1)有两种方式：编程式事务管理、声明式事务管理（常用）
    3.声明式事务管理
        (1)基于注解方式（常用）
        (2)基于xml配置文件方式
    4.在spring进行声明式事务管理，底层使用AOP
    5.spring事务管理API
        (1)提供一个接口PlatformTransactionManager，代表事务管理器，这个接口针对不同的框架提供了不同的实现类
            针对JdbcTemplate和MyBatis的实现类是DataSourceTransactionManager

事务操作（注解声明式事务管理）
    1.在spring配置文件种配置事务管理器
    2.在spring配置文件，开启事务注解
        (1)在spring配置文件种引入名称空间tx
        (2)开启事务注解
    3.在service类上面（或者service类中的方法上面）添加事务注解 Transactional。
        添加到类上面，表示这个类中所有方法都添加事务
        添加到类中方法上面，则只为这个方法添加事务

事务操作（注解声明式事务管理参数配置）
    1.在service类上面添加注解@Transactional，在这个注解中可以配置事务相关参数
        (1)propagation：事务传播行为
            [1]多事务方法（事务方法：对数据库表数据进行变化的操作）直接进行调用，这个过程中事务是如何进行管理的
            [2]spring框架中传播行为有7种：
                required：如果有事务在运行，当前的方法就在这个事务内运行，否则，就启动一个新的事务，并在自己的事务内运行。(常用)
                required_new：当前的方法必须启动新事务，并在它自己的事务内运行，如果有事务正在运行，应该将它挂起。(常用)
                supports：如果有事务在运行，当前的方法就在这个事务内运行，否则它可以不运行在事务种。
                not_supports,mandatory,never,nested
        (2)isolation：事务隔离级别
            [1]事务有特性称为隔离性，多事务操作之间不会产生影响。不考虑隔离性会产生很多问题
            [2]有三个读问题：脏读、不可重复读、虚读（幻读）
                脏读：一个未提交的事务读取到了另一个未提交事务的数据
                不可重复读：一个未提交事务读取到了另一个已提交事务所修改的数据
                幻读：一个未提交的事务读取到另一个已提交事务添加的数据
            [3]通过设置事务隔离级别，解决读问题
                read uncommitted（读未提交）：都不解决
                read commited（读已提交）：解决脏读
                repeatable read（可重复读）：解决脏读和不可重复读
                serializable（串行化）：三者都解决
        (3)timeout：超时时间
            [1]事务需要在一定时间内进行提交，如果不提交进行回滚
            [2]默认值是-1，设置时间以秒为单位进行计算
        (4)readOnly：是否只读
            [1]读：查询操作，写：添加修改删除操作
            [2]readOnly默认值是false，表示可以查询，可以添加修改删除
            [3]设置为true时，则只能查询
        (5)rollbackFor：回滚
            [1]设置出现哪些异常会进行事务回滚
        (6)noRollbackFor：不回滚
            [1]设置出现哪些异常不进行事务回滚

事务操作（XML声明式事务管理）
    1.在spring配置文件中进行配置
        第一步：配置事务管理器
        第二步：配置通知
        第三步：配置切入点和切面

事务操作（完全注解开发声明式事务管理）
    1.创建配置类，使用配置类替代xml配置文件

